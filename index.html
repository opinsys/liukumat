<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Harvest-liukumalaskuri</title>
    </head>
    <body>
        <h1>Harvest-liukumalaskuri</h1>
        <a href="https://github.com/opinsys/liukumat/blob/master/index.js">github</a>

        <p>
            Naiivi liukumalaskuri Harvestin CSV-exportille joka ei ymmärrä Suomen lomapäivistä mitään.
        </p>

        <p>
            Laskuri olettaa että jokaiselle päivälle, jolle tehty merkintä,
            olisi tullut merkitä 7,5 tuntia. Tästä yli- tai alijääneet tunnit
            lasketaan liukumaan.
        </p>

        <p>
            Laskuri vaatii käyttäjältä seuraavat oletukset toimiakseen oikein
        </p>

        <ul>
            <li>
                Päiville jotka olet pitänyt kokonaan liukumavapaana on merkitty
                tunneiksi 0 johonkin tehtävään. Jos mitään ei ole merkitty
                silloin päivää ei lasketa liukumaan lainkaan
            </li>

            <li>
                Ylityötunteihin on lisätty kommenttikenttään merkkijono
                <em>YLITYÖ</em> (pitää olla capseilla). Tällöin ne ohitetaan
                liukuman laskennassa
            </li>

            <li>
                Arkipyhinä kirjattuihin tunteihin on kommenttiin lisätty
                merkkijono <em>ARKIPYHÄ</em>. Muutoin päivä tulkitaan
                normaalina työpäivänä
            </li>

            <li>
                Viikonloppuina sekä arkipyhinä tehdyt tunnit tulkitaan suoraan
                positiivisena liukumana ellei niissä ole <em>YLITYÖ</em>
                merkintää
            </li>

            <li>
                Harvestiin on merkitty vuosilomat ja sairaspoissaolot 7,5 tunnin
                pituisina. Puuttuvat merkinnät eivät haittaa
            </li>
        </ul>






        <h2>Käyttö</h2>

        <ol>
            <li>
                Valitse Harvestissa profiilikuvasta "My Time Report"
            </li>

            <li>
                Valitse oikeassa ylänurkassa olevasta pudotusvalikosta
                aikaväliksi "Custom" ja aseta siihen koko työsopimuksesi kesto. Liian pitkä aikaväli ei haittaa.
            </li>
            <li>
                Paina "Update Report"
            </li>
            <li>
                Valitse "Export" &gt; "CVS"
            </li>

            <li>
                Hae tiedosto sähköpostistasi
            </li>

            <li>
                Lataa se tähän <input type=file id=file accept=".csv">
            </li>
        </ol>

        <hr>

        <p>
            Aikaväli: <span id=timerange></span>
        </p>

        <p>
            Työpäiviä: <span id=days></span>
        </p>

        <p>
           Kertyneitä liukumatunteja: <span id=flex></span>
        </p>

        <hr>


        <p>
            Protip: <em>Ctrl+Shift+j</em> näyttää parsintalogin
        </p>

        <script src="papaparse.js" charset="utf-8"></script>
        <script src="bundle.js" charset="utf-8"></script>
    </body>
</html>
